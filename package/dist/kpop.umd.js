
/**
 * k-pop
 * version: 0.6.1,
 * (c) Christian Kienle, 2019
 * LICENCE: MIT
 * http://github.com/christiankienle/k-pop
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@linusborg/vue-simple-portal"),require("popper.js")):"function"==typeof define&&define.amd?define(["@linusborg/vue-simple-portal","popper.js"],t):(e=e||self).KPop=t(e.vueSimplePortal,e.Popper)}(this,function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t=t&&t.hasOwnProperty("default")?t.default:t;var s=function(e){return"string"==typeof e&&e.length>0},a=function(e){var t=e.filter(s);return 0===t.length?null:t},l={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,i=r(),s=i.default,a=void 0===s?[]:s,l=i.placeholder;return n._isMounted?a:(n.$once("hook:mounted",function(){n.$forceUpdate()}),o.placeholderTag&&(o.placeholder||l)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||l):a.length>0?a.map(function(){return e(!1)}):e(!1))}},u=["scrollParent","viewport","window"],p=u[0],d=["auto","equal-trigger","at-least-trigger"],f=Math.pow(2,53)-1;"undefined"!=typeof window&&("undefined"==typeof document||n(document));var c=function(e,t,n,r,o,i,s,a,l,u){"boolean"!=typeof s&&(l=a,a=s,s=!1);var p,d="function"==typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),r&&(d._scopeId=r),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=p):t&&(p=s?function(){t.call(this,u(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),p)if(d.functional){var f=d.render;d.render=function(e,t){return p.call(t),f(e,t)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,p):[p]}return n}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("k-pop-trigger",{ref:"trigger",nativeOn:{click:function(t){return e.handleClickOnTrigger(t)}}},[e._t("trigger",null,null,e.slotProps)],2),e._v(" "),n("no-ssr",[n("portal",{attrs:{selector:e.portalSelector}},[n("div",{ref:"body",class:e.bodyClasses,style:e.bodyStyles_,attrs:{"aria-hidden":String(!e.visible_)}},[e._t("default",null,null,e.slotProps),e._v(" "),n("vp-arrow",{class:e.arrowClasses,attrs:{"x-arrow":""}})],2)])],1)],1)},staticRenderFns:[]},void 0,{name:"k-pop",components:{KPopTrigger:{mounted:function(){this.$forceUpdate()},updated:function(){this.$parent.popperReference=this.$el,this.$parent.updatePopperInstance()},render:function(e){return this.$scopedSlots.default()}},NoSsr:l,Portal:e.Portal,VpArrow:{render:function(e){return e("span")}}},props:{bodyStyles:{type:Object,default:function(){}},portalId:{default:function(){return"k-pop-portal-container"},type:String},offset:{type:Number,default:0},adjustsBodyWidth:{type:Boolean,default:!1},adjustsVisibility:{type:Boolean,default:!0},boundary:{type:String,default:p,validator:function(e){return u.indexOf(e)>=0}},bodySizeMode:{type:String,default:"auto",validator:function(e){return d.indexOf(e)>=0}},theme:{type:String,default:null},bodyClass:{type:String,default:""},defaultBodyZIndex:{type:[Number,String],default:f},arrowClass:{type:String,default:null},transition:{type:String,default:"fade"},withArrow:{type:Boolean,default:!1},flips:{type:Boolean,default:!0},visible:{type:Boolean,default:!1},modifiers:{type:Object,default:function(){}},placement:{type:String,validator:function(e){return t.placements.indexOf(e)>=0},default:"bottom"}},data:function(){return{visible_:this.visible,outOfBoundaries_:!1}},computed:{bodySizeMode_:function(){return this.adjustsBodyWidth?"equal-trigger":this.bodySizeMode},slotProps:function(){return{visible:this.visible_,show:this.show,hide:this.hide,toggle:this.toggle}},portalSelector:function(){return"#".concat(this.portalId)},stateThatRequiredPopperInstanceUpdate:function(){return{offset:this.offset,flips:this.flips,withArrow:this.withArrow,placement:this.placement}},hasCustomTriggerLogic:function(){return null==this.$slots.trigger&&null!=this.$scopedSlots.trigger},arrowClasses:function(){var e=this.theme,t=this.arrowClass;return a([t,e?"kpop-arrow":null])},bodyStyles_:function(){var e=o({},this.bodyStyles,{zIndex:this.defaultBodyZIndex});return null==this.theme&&this.adjustsVisibility&&(e.visibility=this.visible_&&!1===this.outOfBoundaries_?"visible":"hidden"),e},bodyClasses:function(){var e=this.theme,t=this.bodyClass,n=this.withArrow,r=t.split(" ");return a([].concat(i(r),["kpop-body",e?"kpop-theme-".concat(this.theme):null,n?null:"kpop-no-arrow"]))},modifiers_:function(){return o({updateState:{enabled:!0,order:9999999,fn:this.modifier_updateState},bodySizeMode:{enabled:!0,order:0,fn:this.modifier_bodySizeMode},flip:{enabled:this.flips},arrow:{enabled:this.withArrow},preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:this.boundary},offset:{enabled:!0,offset:"0,".concat(this.offset)}},this.modifiers)}},watch:{adjustsBodyWidth:function(){this.updatePopperInstance()},stateThatRequiredPopperInstanceUpdate:{deep:!0,handler:function(){this.updatePopperInstance()}},visible:function(e){this.visible_=e,e&&null==this.popperInstance&&this.updatePopperInstance(),this.scheduleUpdate()}},beforeDestroy:function(){this.destroyPopperInstance()},mounted:function(){this.$forceUpdate()},methods:{modifier_bodySizeMode:function(e){var t=this.bodySizeMode_;if("auto"===t)return e;var n=e.instance,r=e.offsets,o=(n.reference,n.popper),i=n.reference.clientWidth;if("at-least-trigger"===t)return o.style.minWidth=i+"px",e;if("equal-trigger"===t){var s=i-r.popper.width;return o.style.width=i+"px",r.popper.width=i,r.popper.left=r.popper.left-.5*s,e}return e},modifier_updateState:function(e){var t=e.attributes["x-out-of-boundaries"],n=!0===t||""===t||"true"===t;return this.outOfBoundaries_=n,e},handleClickOnTrigger:function(){this.hasCustomTriggerLogic||this.toggle()},destroyPopperInstance:function(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)},updatePopperInstance:function(){this.destroyPopperInstance();var e=this.placement,n=this.modifiers_,r=this.popperReference;if(null!=r){var o=this.$refs.body;if(null!=o){var i={modifiers:n,placement:e};this.popperInstance=new t(r,o,i)}}},scheduleUpdate:function(){this.popperInstance&&this.popperInstance.scheduleUpdate()},setVisible:function(e){this.visible_=e,this.$emit("update:visible",this.visible_),this.visible_&&null==this.popperInstance&&this.updatePopperInstance(),setTimeout(this.scheduleUpdate)},show:function(){this.setVisible(!0)},hide:function(e){this.setVisible(!1)},toggle:function(){this.setVisible(!this.visible_)}}},void 0,!1,void 0,void 0,void 0);return c.install=function(e){e.component("k-pop",c)},"undefined"!=typeof window&&window.Vue&&window.Vue===Vue&&Vue.use(c),c});
//# sourceMappingURL=kpop.umd.js.map
